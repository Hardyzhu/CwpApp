<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>空调</title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		
		<!--标准mui.css-->
		<link rel="stylesheet" type="text/css" href="../../../css/mui.min.css"/>
		<link rel="stylesheet" type="text/css" href="../../../css/common.css"/>
		<style>
			.headerBarBox{
				background:#FFF;
				padding-top:10px;
			}
			.headBar{
				padding:15px;
				background:#F1F1F1;
				font-size:1.6rem;
				font-weight: 600;
				color: #9C9C9C;
				border-top:1px solid #DEDEDE;
				border-bottom:1px solid #DEDEDE;
			}
        	.comul li{
        		float:right;
        		margin-left:10px;
        	}
        	.comul li span{
				font-size:1.3rem;
				color:#BFBFBF;
        	}
        	.comul li span.quire{
        		display:inline-block;
        		vertical-align: 2px;
        		width:7px;
        		height:7px;		
        		overflow: hidden;
        	}
        	.colorgray{
        		background:#BFBFBF;
        	}
        	.colorblue{
        		background:#0581CB;
        	}
        	.coloryellow{
        		background:#FFC000;
        	}
        	.colorred{
        		background:#CA0607;
        	}
        </style>
	</head>
	<body>
		<header class="mui-bar mui-bar-nav topColor">
			<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
			<h1 class="mui-title" style="color:#FFF;">实时</h1>
		</header>
		<div class="mui-content">
			<div class="mui-col-xs-12 headerBarBox">
				<div class="mui-col-xs-12 clearfix headBar">
					<span class="fl">cc-1c</span>
					<ul class="comul fr">
						<li>
							<span class="quire colorred"></span>
							<span>严重故障</span>
						</li>
						<li>
							<span class="quire coloryellow"></span>
							<span>小故障</span>
						</li>
						<li>
							<span class="quire colorblue"></span>
							<span>正常运行</span>
						</li>
						<li>
							<span class="quire colorgray"></span>
							<span>关闭</span>
						</li>
					</ul>
				</div>
			</div>
			<div class="mui-col-xs-12">
				<div style="margin-bottom:5px;background:#FFF;">
					<div class="mui-col-xs-12" style="padding:15px;">
						<span style="color:#222222;">第一层</span>
						<span class="mui-pull-right" style="font-size:1.4rem;color:#6C6C6C;">
							<span class="mui-icon mui-icon-info" style="font-size:1.5rem;vertical-align: 1px;"></span>点击查看设备详情
						</span>
					</div>
					<div class="mui-text-center" style="padding:0 15px 13px 15px;">
						<span class="colorblue" style="color:#FFF;display:inline-block;width:68px;height:30px;margin-bottom:4px;line-height:30px;text-align:center;">A101</span>
						<span class="coloryellow" style="color:#FFF;display:inline-block;width:68px;height:30px;margin-bottom:4px;line-height:30px;text-align:center;">A101</span>
						<span class="colorgray" style="color:#FFF;display:inline-block;width:68px;height:30px;margin-bottom:4px;line-height:30px;text-align:center;">A101</span>
						<span class="colorred" style="color:#FFF;display:inline-block;width:68px;height:30px;margin-bottom:4px;line-height:30px;text-align:center;">A101</span>
						<span class="colorred" style="color:#FFF;display:inline-block;width:68px;height:30px;margin-bottom:4px;line-height:30px;text-align:center;">A101</span>
					</div>
				</div>
			</div>
		</div>
		<script id="realTimeTmpl" type="text/html">
			<ul class="mui-table-view">
				{{each beans}}
					<li data-id="{{$value.deviceId}}" class="mui-table-view-cell mui-media realTime">
						<a class="mui-navigate-right" href="javascript:;">
							<img class="mui-media-object mui-pull-left" src="../../image/icon-3.png">
							<div class="mui-media-body">
								CC-1{{$value.devicePositionCode}}
								<p class='mui-ellipsis'>
									<span>数量:</span>
									<span>{{$value.guarantee}}台</span>
								</p>
							</div>
						</a>
					</li>
				{{/each}}
			</ul>
		</script>
		<script src="../../../js/mui.min.js"></script>
		<script src="../../../js/echarts-all.js"></script>
		<script src="../../../js/template.js"></script>
		<script>
			mui.init();
			mui.plusReady(function(){
				
			});
			//获取实时数据
			function getrealTime() { //获取工单列表
				var count = 1;
				mui.ajax({
					url:'./json/realTime.json',
					//url: http://192.168.92.201:28090/cwp/front/sh/intebuilding!execute",
					type: "get",
					async: true,
					data: {
						uid: 'i002',
						pageSize:'5',
						dictValue:'', 
						eventProcessStatus:'',
						eventType:3
					},
					dataType: "json",
					timeout: 10000,
					success: function(data) {
						var realTimelist = document.getElementById("realTimelist");
						var html = template('realTimeTmpl', data);
						if(count==1){
							realTimelist.innerHTML = html;
						}else{
							realTimelist.innerHTML += html;
						}
						count++;
					},
					error: function(xhr, type, errorThrown) {
						if(type=='timeout'){
							mui.toast('请求超时:请检查网络!');
						}else {
							mui.toast('数据加载失败!');
							return;
						}
					}
				});
			};
	
			//实时点击查看详情
			mui('.mui-content').on('tap','.realTime',function(){
				console.log(1);
			});			
		</script>
	</body>
</html>