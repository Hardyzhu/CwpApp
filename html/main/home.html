<!--
	作者：yeshengqiang
	时间：2016-06-24
	描述：首页主窗口
-->
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>智慧园区</title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<link href="../../css/mui.min.css" rel="stylesheet" />
		<link rel="stylesheet" type="text/css" href="../../css/common.css"/>
		<link rel="stylesheet" href="../../css/home.css" />
		<link rel="stylesheet" href="../../css/new.css" />	
	</head>
	</head>
	<body>
		<!--轮播-->
		<div id="slider" class="mui-slider slider-pannel" >
			<div class="mui-slider-group mui-slider-loop">
				<!-- 额外增加的一个节点(循环轮播：第一个节点是最后一张轮播) -->
				<!--<div class="mui-slider-item mui-slider-item-duplicate">
					<div class="autoSilder">
					
					</div>
				</div>-->
				<!-- 第一张 -->
				<div class="mui-slider-item">
					<div class="chart" id="lineChart"></div>
				</div>			
				<!-- 额外增加的一个节点(循环轮播：最后一个节点是第一张轮播) -->
				<!--<div class="mui-slider-item mui-slider-item-duplicate hidden">
					<div class="autoSilder">
						
					</div>
				</div>-->
			</div>
			<div class="mui-slider-indicator">
				<!--<div class="mui-indicator mui-active"></div>
				<div class="mui-indicator"></div>
				<div class="mui-indicator"></div>
				<div class="mui-indicator"></div>-->
			</div>
		</div>
		<!--内容-->
		<div class="mui-col-xs-12 facility">
			设备
		</div>
		<div class="mui-col-xs-12 mui-text-center clearfix classify button-pannel">
			<div data-url="securityAlarm.html" class="mui-col-xs-4 fl subClassify tabList button-line">
				<div class="mui-col-xs-12 fl">
					<div class="mui-col-xs-6 fl">
						<img src="../../image/home-1.png" width="40" alt="空调" />
					</div>
					<div class="mui-col-xs-6 mui-text-left fl">
						<span>安防预警</span>
					</div>
				</div>
			</div>	
			<div data-url="security.html" class="mui-col-xs-4 fl subClassify tabList">
				<div class="mui-col-xs-12 fl">
					<div class="mui-col-xs-6 fl">
						<img src="../../image/home-2.png" width="40" alt="空调" />
					</div>
					<div class="mui-col-xs-6 mui-text-left fl">
						<span>故障告警</span>
					</div>
				</div>
			</div>
			<div data-url="maintenance.html" class="mui-col-xs-4 fl subClassify tabList">
				<div class="mui-col-xs-12 fl">
					<div class="mui-col-xs-6 fl">
						<img src="../../image/home-3.png" width="40" alt="空调" />
					</div>
					<div class="mui-col-xs-6 mui-text-left fl">
						<span>维修工单</span>
					</div>
				</div>
			</div>
			<div data-url="energy.html" class="mui-col-xs-4 fl subClassify tabList border-bottom-none">
				<div class="mui-col-xs-12 fl">
					<div class="mui-col-xs-6 fl">
						<img src="../../image/home-4.png" width="40" alt="空调" />
					</div>
					<div class="mui-col-xs-6 mui-text-left fl">
						<span>能耗</span>
					</div>
				</div>
			</div>
			<div data-url="Equipment.html" class="mui-col-xs-4 fl subClassify tabList border-bottom-none">
				<div class="mui-col-xs-12 fl">
					<div class="mui-col-xs-6 fl">
						<img src="../../image/icon-1.png" width="40" alt="空调" />
					</div>
					<div class="mui-col-xs-6 mui-text-left fl">
						<span>设备监控</span>
					</div>
				</div>
			</div>
			
			
			<!--<div data-url="air_condition.html" class="mui-col-xs-4 fl subClassify tabList">
				
			</div>-->
			<!--<div data-url="fresh_air.html" class="mui-col-xs-4 fl subClassify tabList">
				<div class="mui-col-xs-12 fl">
					<div class="mui-col-xs-6 fl">
						<img src="../../image/icon-2.png" width="50" alt="新风" />
					</div>
					<div class="mui-col-xs-6 mui-text-left fl">
						<span>新风</span>
					</div>
				</div>
			</div>
			<div data-url="sewage.html" class="mui-col-xs-4 fl subClassif tabList">
				<div class="mui-col-xs-12 fl">
					<div class="mui-col-xs-6 fl">
						<img src="../../image/icon-1.png" width="50" alt="排污泵" />
					</div>
					<div class="mui-col-xs-6 mui-text-left fl">
						<span>排污泵</span>
					</div>
				</div>
			</div>
			<div data-url="lighting.html" class="mui-col-xs-4 fl subClassify tabList">
				<div class="mui-col-xs-12 fl">
					<div class="mui-col-xs-6 fl">
						<img src="../../image/icon-4.png" width="50" alt="智能照明" />
					</div>
					<div class="mui-col-xs-6 mui-text-left fl">
						<span>智能照明</span>
					</div>
				</div>
			</div>
			<div data-url="monitoring.html" class="mui-col-xs-4 fl subClassify tabList">
				<div class="mui-col-xs-12 fl">
					<div class="mui-col-xs-6 fl">
						<img src="../../image/icon-5.png" width="50" alt="视频监控" />
					</div>
					<div class="mui-col-xs-6 mui-text-left fl">
						<span>视频监控</span>
					</div>
				</div>
			</div>
			<div data-url="guard.html" class="mui-col-xs-4 fl subClassif tabList">
				<div class="mui-col-xs-12 fl">
					<div class="mui-col-xs-6 fl">
						<img src="../../image/icn-6.png" width="50" alt="门禁" />
					</div>
					<div class="mui-col-xs-6 mui-text-left fl">
						<span>门禁</span>
					</div>
				</div>
			</div>-->
		</div>
		<!--安防调度-->
		<!--<div class="mui-col-xs-12 clearfix Security">
			<div data-url="smart.html" class="mui-col-xs-6 fl tabList">
				<img src="../../image/icon-9.png" alt="智能调度" />
			</div>
			<div data-url="security.html" class="mui-col-xs-6 fl tabList">
				<img src="../../image/icon-10.png" alt="安防告警" />
			</div>
		</div>-->
		<script src="../../js/mui.min.js"></script>
		<script src="../../js/echarts-all.js"></script>
		<script src="../../js/mui.conf.js"></script>
		<script type="text/javascript" charset="utf-8">
			mui.init({
				swipeBack:true //启用右滑关闭功能
			});
			mui.plusReady(function() {
				var self = plus.webview.currentWebview();
				gotoDetail(self);   //跳转
				var slider = mui("#slider");
				slider.slider({
					interval: 8000
				});
			});
			
			
			//跳转
			
			//质量报表
			var getOption = function(chartType) {
					var chartOption = chartType == 'pie' ? {
					calculable: false				
				} : {
					legend: {
						data: ['耗电量'] //图例，表述数据和图形的关联
					},
					color:['#007aff'],//设置曲线颜色
					grid: {            //给图表定位
						x: 60,
						x2: 30,
						y: 35,
						y2: 30
					},
					tooltip : {    //	气泡提示框
						trigger: 'axis' //直角坐标系中的一个坐标轴，坐标轴可分为类目型、数值型或时间型
					},
					calculable : true,
					xAxis : [ //直角坐标系中的横轴，通常并默认为类目型
						{
							type : 'category',
							boundaryGap : false,
							data : ['一月','二月','三月','四月','五月','六月']//加载数据
						}
					],
					yAxis : [  //	直角坐标系中的纵轴，通常并默认为数值型
						{
							type : 'value',
							axisLabel : {//设置纵坐标的单位
								formatter: '{value} kwh'
							}
						}
					],
					series : [//数据系列，一个图表可能包含多个系列，每一个系列可能包含多个数据
						{
							name:'耗电量',//所表示的类型
							type:'line', //图标类型
							smooth:true,
							itemStyle: {normal: {areaStyle: {type: 'default'}}},//图表样式设置
							data:[31, 35, 24, 26, 50, 75]//加载数据
						}
					]
				};
				return chartOption;
			};
			
			
			var byId = function(id) {
				return document.getElementById(id);
			};
			var lineChart = echarts.init(byId('lineChart'));
			lineChart.setOption(getOption('line'));
			/*byId("echarts").addEventListener('tap',function(){
				var url = this.getAttribute('data-url');
				plus.runtime.openURL(url);
			},false);*/
			
			/**
			 * 点击事件
			 */
			function gotoDetail(self) {
				var list = document.getElementsByClassName("tabList");
				var homeUrl = "";
				for (var i = 0, len = list.length; i < len; i++) {
					list[i].addEventListener("tap", function() {
						homeUrl = this.getAttribute("data-url");
						if(homeUrl=='energy.html'){
							mui.openWindow({
								url: "../energy/"+homeUrl,
								id: homeUrl,
								waiting: {
									autoShow: false
								}
							});
						}else{
							mui.openWindow({
								url: "../home/"+homeUrl,
								id: homeUrl,
								waiting: {
									autoShow: false
								}
							});
						}
					});
				}
			}
		</script>
	</body>
</html>
